import{j as e,r as o,T as S,m as u,P as M,u as C}from"./chunk-DKxWXerZ.js";import{T,W as U}from"./chunk-Bo63-N9f.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const I="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2012H18M12%206V18'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",L="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%207V8.2C20%209.88016%2020%2010.7202%2019.673%2011.362C19.3854%2011.9265%2018.9265%2012.3854%2018.362%2012.673C17.7202%2013%2016.8802%2013%2015.2%2013H4M4%2013L8%209M4%2013L8%2017'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",A="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%2012C2%207.28595%202%204.92893%203.46447%203.46447C4.92893%202%207.28595%202%2012%202C16.714%202%2019.0711%202%2020.5355%203.46447C22%204.92893%2022%207.28595%2022%2012C22%2016.714%2022%2019.0711%2020.5355%2020.5355C19.0711%2022%2016.714%2022%2012%2022C7.28595%2022%204.92893%2022%203.46447%2020.5355C2%2019.0711%202%2016.714%202%2012Z'%20fill='%23000'/%3e%3c/svg%3e",R=({icon:s,altText:t,onClick:a,extraClass:r=""})=>e.jsx("button",{className:`action-button ${r} unselectable`,onClick:a,children:e.jsx("img",{className:"icon",src:s,alt:t,draggable:"false"})}),B=({inputValue:s,setInputValue:t,isStreaming:a,onSend:r,onStop:c,selectedModel:m})=>{const i=o.useRef(null),l=o.useRef(null);return o.useEffect(()=>{const d=x=>{!x.target.closest("button")&&l.current&&l.current.focus()};return i.current&&i.current.addEventListener("click",d),()=>{i.current&&i.current.removeEventListener("click",d)}},[]),e.jsxs("div",{className:"input-container",ref:i,children:[e.jsx(S,{info:"Attach",className:"add-button-tooltip",position:"N",children:e.jsx(R,{icon:I,altText:"plus",extraClass:"add-button"})}),e.jsx(T,{value:s,onChange:d=>t(d.target.value),onSend:r,selectedModel:m,ref:l}),e.jsx(S,{info:"Send",className:"send-button-tooltip",position:"N",children:e.jsx(R,{icon:a?A:L,altText:a?"stop":"send",extraClass:`send-button ${s||a?"send-active":""} ${a?"stop-active":""}`,onClick:a?c:r})})]})},y=({inputValue:s})=>e.jsx("div",{className:s.trim()?"notice":"notice disclaimer",children:s.trim()?"Use Shift+Enter to start a new line.":e.jsx("a",{href:"https://www.cheap.chat/terms",target:"_blank",children:"Model accuracy varies. Check critical information."})}),D="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2017L11.7772%2019.7772V19.7772C11.9002%2019.9002%2012.0998%2019.9002%2012.2228%2019.7772V19.7772L15%2017'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%207L12.201%204.20104V4.20104C12.09%204.09001%2011.91%204.09001%2011.799%204.20104V4.20104L9%207'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23666'%20height='800px'%20width='800px'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20enable-background='new%200%200%20512%20512'%3e%3cg%3e%3cpath%20d='m256,11c-135.1,0-245,109.9-245,245%200,135.1%20109.9,245%20245,245%20135.1,0%20245-109.9%20245-245%200-135.1-109.9-245-245-245zm203.1,224.6h-98.9c-2.1-65.6-14.7-129.7-37.2-172.5%2073.6,25.7%20128.2,92.3%20136.1,172.5zm-203.1,224.6c-24.6,0-59.6-70.9-63.5-183.8h126.9c-3.8,112.8-38.8,183.8-63.4,183.8zm-63.5-224.6c3.8-112.8%2038.9-183.8%2063.5-183.8%2024.6,0%2059.6,70.9%2063.5,183.8h-127zm-3.5-172.5c-22.5,42.8-35.1,106.8-37.3,172.4h-98.8c7.9-80.1%2062.5-146.7%20136.1-172.4zm-136.1,213.3h98.9c2.2,65.6%2014.8,129.7%2037.3,172.4-73.7-25.6-128.3-92.2-136.2-172.4zm270.1,172.5c22.5-42.8%2035.1-106.8%2037.3-172.4h98.9c-8,80.1-62.6,146.7-136.2,172.4z'/%3e%3c/g%3e%3c/svg%3e",z=({selectedModel:s,setSelectedModel:t,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r})=>{const[c,m]=o.useState(!1),[i,l]=o.useState(!1),d=u[s].displayName,x=u[s].provider,h=()=>{c?(t(a),console.log("Setting selected model: ",a)):t("sonar"),m(!c)};o.useEffect(()=>{u[s].category.includes("Search")?m(!0):m(!1)},[s]);const g=p=>{t(p),u[p].category.includes("Search")||r(p),l(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"model-selector unselectable",onClick:()=>l(!i),onBlur:()=>l(!1),tabIndex:"0",children:[e.jsx(M,{provider:x,className:"selector-logos"}),d,e.jsx("img",{className:"selector-icon",src:D,alt:"dropdown"})]}),e.jsx(S,{info:"Search the web",position:"E",offset:12,children:e.jsx("div",{className:`internet-icon unselectable ${c?"internet-icon-enabled":""}`,onClick:h,children:e.jsx("img",{src:$,alt:"Internet",draggable:"false"})})}),e.jsx("div",{className:`model-selector-dropdown ${i?"model-selector-dropdown-enabled":""}`,children:Object.keys(u).map((p,f)=>e.jsxs("div",{className:"model-selector-option",onMouseDown:w=>w.preventDefault(),onClick:()=>g(p),children:[e.jsx(M,{provider:u[p].provider,className:"selector-logos"}),u[p].displayName]},f))})]})},H="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7%2017L17%207M17%207H8M17%207V16'%20stroke='%23fff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",P=({signUp:s})=>{const t=s?"Sign up for $1 in free credits":"Sign in to send messages",{showAuth:a}=C();return e.jsxs("button",{className:"signup-button",onClick:a,children:[t,e.jsx("img",{src:H,alt:"Cross"})]})},O=({conversationName:s})=>e.jsx("div",{className:"conversation-name-container",children:e.jsx("div",{className:"conversation-name",children:s})}),W=({selectedModel:s,setSelectedModel:t,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r,conversationName:c})=>{const{user:m,hasSignedInBefore:i,isAuthLoading:l}=C();return e.jsxs("div",{className:"topbar",children:[e.jsx(z,{selectedModel:s,setSelectedModel:t,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r}),e.jsx(O,{conversationName:c}),!m&&!l?e.jsx(P,{signUp:!i}):e.jsx("div",{children:"EXAMPLE"})]})},F=({hasStreamed:s,selectedModel:t,setSelectedModel:a,setLastNonSearchSelectedModel:r})=>{var j,N;const[c,m]=o.useState(""),[i,l]=o.useState(t),[d,x]=o.useState(""),[h,g]=o.useState(!1),[p,f]=o.useState(!1),w=Object.entries(u);o.useEffect(()=>{if(!p){f(!0);return}const n=c||t;(n!==i||n!==d)&&(g(!0),x(n),setTimeout(()=>{l(n),g(!1)},200))},[c,t]),o.useEffect(()=>{const n=v=>{v.target.closest(".ai-model-option")||m("")};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]);const b=n=>{n!==t&&a(n),u[n].category.includes("Search")||r(n)};return e.jsx("div",{className:`ai-explorer-container ${s?"display-none":""}`,children:e.jsxs("div",{className:"ai-explorer-container-inner",children:[e.jsxs("div",{className:"ai-explorer-options-container",children:[e.jsx("h1",{className:"ai-explorer-title",children:"Choose your AI."}),e.jsx("div",{className:"pinned-ais",children:w.map(([n,v])=>e.jsx("div",{className:`ai-model-option ${n===t?"selected-ai-model-option":""} unselectable`,onClick:()=>b(n),onMouseEnter:()=>m(n),children:e.jsx("div",{className:"ai-model-option-name",children:v.displayName})},n))})]}),e.jsxs("div",{className:"ai-information-container",children:[e.jsx("h2",{className:`ai-information-name ${h?"fade-out":"fade-in"}`,children:(j=u[i])==null?void 0:j.displayName}),e.jsx("p",{className:`ai-information-description ${h?"fade-out":"fade-in"}`,children:(N=u[i])==null?void 0:N.description})]})]})})},X=()=>e.jsx("div",{className:"loading-container",children:e.jsxs("div",{className:"loading-container-inner",children:[e.jsxs("div",{className:"loading-user-message",children:[e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"})]}),e.jsxs("div",{className:"loading-ai-container",children:[e.jsx("div",{className:"loading-ai-icon-container",children:e.jsx("div",{className:"loading-ai-icon shimmer"})}),e.jsxs("div",{className:"loading-ai-message",children:[e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"})]})]})]})}),te=({selectedModel:s,setSelectedModel:t,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r,messages:c,setMessages:m,aiExplorer:i=!1,windowConversationId:l=null})=>{const[d,x]=o.useState(""),[h,g]=o.useState(!1),[p,f]=o.useState(!1),[w,b]=o.useState(l),[j,N]=o.useState(""),n=o.useRef(null),v=o.useRef(null),{user:k,showAuth:G}=C(),V=()=>{if(d.trim()){if(!k){G();return}n.current&&(n.current.sendMessage(d),g(!0)),x("")}},E=()=>{n.current&&(n.current.cancelMessage(),g(!1))};return o.useEffect(()=>{h&&f(!0)},[h]),e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"body",ref:v,children:[e.jsx(W,{selectedModel:s,setSelectedModel:t,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r,conversationName:j}),i&&e.jsx(F,{hasStreamed:p,selectedModel:s,setSelectedModel:t,setLastNonSearchSelectedModel:r}),!i&&c.length==0&&e.jsx(X,{}),e.jsx(U,{ref:n,bodyRef:v,isStreaming:h,setIsStreaming:g,hasStreamed:p,selectedModel:s,messages:c,setMessages:m,aiExplorer:i,conversationId:w,setConversationId:b,setConversationName:N})]}),e.jsx(B,{inputValue:d,setInputValue:x,isStreaming:h,onSend:V,onStop:E,selectedModel:s}),e.jsx(y,{inputValue:d})]})};export{te as C};
