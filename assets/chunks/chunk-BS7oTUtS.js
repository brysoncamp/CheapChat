import{j as e,r as n,T as C,m as p,P as k}from"./chunk-R8kXGvk_.js";import{T as M,W as R}from"./chunk-BZjtXhix.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const G="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2012H18M12%206V18'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",V="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%207V8.2C20%209.88016%2020%2010.7202%2019.673%2011.362C19.3854%2011.9265%2018.9265%2012.3854%2018.362%2012.673C17.7202%2013%2016.8802%2013%2015.2%2013H4M4%2013L8%209M4%2013L8%2017'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",E="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%2012C2%207.28595%202%204.92893%203.46447%203.46447C4.92893%202%207.28595%202%2012%202C16.714%202%2019.0711%202%2020.5355%203.46447C22%204.92893%2022%207.28595%2022%2012C22%2016.714%2022%2019.0711%2020.5355%2020.5355C19.0711%2022%2016.714%2022%2012%2022C7.28595%2022%204.92893%2022%203.46447%2020.5355C2%2019.0711%202%2016.714%202%2012Z'%20fill='%23000'/%3e%3c/svg%3e",S=({icon:s,altText:o,onClick:a,extraClass:r=""})=>e.jsx("button",{className:`action-button ${r} unselectable`,onClick:a,children:e.jsx("img",{className:"icon",src:s,alt:o,draggable:"false"})}),T=({inputValue:s,setInputValue:o,isStreaming:a,onSend:r,onStop:d,selectedModel:h})=>{const i=n.useRef(null),m=n.useRef(null);return n.useEffect(()=>{const c=x=>{!x.target.closest("button")&&m.current&&m.current.focus()};return i.current&&i.current.addEventListener("click",c),()=>{i.current&&i.current.removeEventListener("click",c)}},[]),e.jsxs("div",{className:"input-container",ref:i,children:[e.jsx(C,{info:"Attach",className:"add-button-tooltip",position:"N",children:e.jsx(S,{icon:G,altText:"plus",extraClass:"add-button"})}),e.jsx(M,{value:s,onChange:c=>o(c.target.value),onSend:r,selectedModel:h,ref:m}),e.jsx(C,{info:"Send",className:"send-button-tooltip",position:"N",children:e.jsx(S,{icon:a?E:V,altText:a?"stop":"send",extraClass:`send-button ${s||a?"send-active":""} ${a?"stop-active":""}`,onClick:a?d:r})})]})},I=({inputValue:s})=>e.jsx("div",{className:s.trim()?"notice":"notice disclaimer",children:s.trim()?"Use Shift+Enter to start a new line.":e.jsx("a",{href:"https://www.cheap.chat/terms",target:"_blank",children:"Model accuracy varies. Check critical information."})}),U="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%2017L11.7772%2019.7772V19.7772C11.9002%2019.9002%2012.0998%2019.9002%2012.2228%2019.7772V19.7772L15%2017'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15%207L12.201%204.20104V4.20104C12.09%204.09001%2011.91%204.09001%2011.799%204.20104V4.20104L9%207'%20stroke='%23323232'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",L="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23666'%20height='800px'%20width='800px'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20enable-background='new%200%200%20512%20512'%3e%3cg%3e%3cpath%20d='m256,11c-135.1,0-245,109.9-245,245%200,135.1%20109.9,245%20245,245%20135.1,0%20245-109.9%20245-245%200-135.1-109.9-245-245-245zm203.1,224.6h-98.9c-2.1-65.6-14.7-129.7-37.2-172.5%2073.6,25.7%20128.2,92.3%20136.1,172.5zm-203.1,224.6c-24.6,0-59.6-70.9-63.5-183.8h126.9c-3.8,112.8-38.8,183.8-63.4,183.8zm-63.5-224.6c3.8-112.8%2038.9-183.8%2063.5-183.8%2024.6,0%2059.6,70.9%2063.5,183.8h-127zm-3.5-172.5c-22.5,42.8-35.1,106.8-37.3,172.4h-98.8c7.9-80.1%2062.5-146.7%20136.1-172.4zm-136.1,213.3h98.9c2.2,65.6%2014.8,129.7%2037.3,172.4-73.7-25.6-128.3-92.2-136.2-172.4zm270.1,172.5c22.5-42.8%2035.1-106.8%2037.3-172.4h98.9c-8,80.1-62.6,146.7-136.2,172.4z'/%3e%3c/g%3e%3c/svg%3e",y=({selectedModel:s,setSelectedModel:o,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r})=>{const[d,h]=n.useState(!1),[i,m]=n.useState(!1),c=p[s].displayName,x=p[s].provider,u=()=>{d?(o(a),console.log("Setting selected model: ",a)):o("sonar"),h(!d)};n.useEffect(()=>{p[s].category.includes("Search")?h(!0):h(!1)},[s]);const g=l=>{o(l),p[l].category.includes("Search")||r(l),m(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"model-selector unselectable",onClick:()=>m(!i),onBlur:()=>m(!1),tabIndex:"0",children:[e.jsx(k,{provider:x,className:"selector-logos"}),c,e.jsx("img",{className:"selector-icon",src:U,alt:"dropdown"})]}),e.jsx(C,{info:"Search",position:"E",offset:12,children:e.jsx("div",{className:`internet-icon unselectable ${d?"internet-icon-enabled":""}`,onClick:u,children:e.jsx("img",{src:L,alt:"Internet",draggable:"false"})})}),e.jsx("div",{className:`model-selector-dropdown ${i?"model-selector-dropdown-enabled":""}`,children:Object.keys(p).map((l,f)=>e.jsxs("div",{className:"model-selector-option",onMouseDown:w=>w.preventDefault(),onClick:()=>g(l),children:[e.jsx(k,{provider:p[l].provider,className:"selector-logos"}),p[l].displayName]},f))})]})},D=({selectedModel:s,setSelectedModel:o,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r})=>e.jsx("div",{className:"topbar",children:e.jsx(y,{selectedModel:s,setSelectedModel:o,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r})}),$=({hasStreamed:s,selectedModel:o,setSelectedModel:a,setLastNonSearchSelectedModel:r})=>{var v,j;const[d,h]=n.useState(""),[i,m]=n.useState(o),[c,x]=n.useState(""),[u,g]=n.useState(!1),[l,f]=n.useState(!1),w=Object.entries(p);n.useEffect(()=>{if(!l){f(!0);return}const t=d||o;(t!==i||t!==c)&&(g(!0),x(t),setTimeout(()=>{m(t),g(!1)},200))},[d,o]),n.useEffect(()=>{const t=N=>{N.target.closest(".ai-model-option")||h("")};return document.addEventListener("mousemove",t),()=>{document.removeEventListener("mousemove",t)}},[]);const b=t=>{t!==o&&a(t),p[t].category.includes("Search")||r(t)};return e.jsx("div",{className:`ai-explorer-container ${s?"display-none":""}`,children:e.jsxs("div",{className:"ai-explorer-container-inner",children:[e.jsxs("div",{className:"ai-explorer-options-container",children:[e.jsx("h1",{className:"ai-explorer-title",children:"Choose your AI."}),e.jsx("div",{className:"pinned-ais",children:w.map(([t,N])=>e.jsx("div",{className:`ai-model-option ${t===o?"selected-ai-model-option":""} unselectable`,onClick:()=>b(t),onMouseEnter:()=>h(t),children:e.jsx("div",{className:"ai-model-option-name",children:N.displayName})},t))})]}),e.jsxs("div",{className:"ai-information-container",children:[e.jsx("h2",{className:`ai-information-name ${u?"fade-out":"fade-in"}`,children:(v=p[i])==null?void 0:v.displayName}),e.jsx("p",{className:`ai-information-description ${u?"fade-out":"fade-in"}`,children:(j=p[i])==null?void 0:j.description})]})]})})},B=()=>e.jsx("div",{className:"loading-container",children:e.jsxs("div",{className:"loading-container-inner",children:[e.jsxs("div",{className:"loading-user-message",children:[e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"})]}),e.jsxs("div",{className:"loading-ai-container",children:[e.jsx("div",{className:"loading-ai-icon-container",children:e.jsx("div",{className:"loading-ai-icon shimmer"})}),e.jsxs("div",{className:"loading-ai-message",children:[e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"}),e.jsx("div",{className:"loading-bar shimmer"})]})]})]})}),q=({selectedModel:s,setSelectedModel:o,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r,messages:d,setMessages:h,aiExplorer:i=!1,windowConversationId:m=null})=>{const[c,x]=n.useState(""),[u,g]=n.useState(!1),[l,f]=n.useState(!1),[w,b]=n.useState(m),v=n.useRef(null),j=n.useRef(null),t=()=>{c.trim()&&(v.current&&(v.current.sendMessage(c),g(!0)),x(""))},N=()=>{v.current&&(v.current.cancelMessage(),g(!1))};return n.useEffect(()=>{u&&f(!0)},[u]),e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"body",ref:j,children:[e.jsx(D,{selectedModel:s,setSelectedModel:o,lastNonSearchSelectedModel:a,setLastNonSearchSelectedModel:r}),i&&e.jsx($,{hasStreamed:l,selectedModel:s,setSelectedModel:o,setLastNonSearchSelectedModel:r}),!i&&d.length==0&&e.jsx(B,{}),e.jsx(R,{ref:v,bodyRef:j,isStreaming:u,setIsStreaming:g,hasStreamed:l,selectedModel:s,messages:d,setMessages:h,aiExplorer:i,conversationId:w,setConversationId:b})]}),e.jsx(T,{inputValue:c,setInputValue:x,isStreaming:u,onSend:t,onStop:N,selectedModel:s}),e.jsx(I,{inputValue:c})]})};export{q as C};
