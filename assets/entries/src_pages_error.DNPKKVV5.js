import{r as e,j as o,u as T,i as P}from"../chunks/chunk-DKxWXerZ.js";import{C as h}from"../chunks/chunk-2r2lRGNq.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-CZjW-RxB.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-Bo63-N9f.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */const z=({selectedModel:l,setSelectedModel:d,lastNonSearchSelectedModel:u,setLastNonSearchSelectedModel:m,rootPage:f=!1})=>{const[c,a]=e.useState([]);if(f)return o.jsx(h,{selectedModel:l,setSelectedModel:d,lastNonSearchSelectedModel:u,setLastNonSearchSelectedModel:m,messages:c,setMessages:a,aiExplorer:!0});const[g,w]=e.useState(!0),[v,y]=e.useState(!1),[t,x]=e.useState(null),{user:E,ensureValidToken:j}=T();return e.useEffect(()=>{if(console.log(window.location.pathname),window.location.pathname.startsWith("/c/")){w(!0);const i=window.location.pathname.split("/").filter(Boolean).pop();x(i),console.log("Setting conversationId:",i)}else y(!0)},[]),e.useEffect(()=>{t&&(console.log("hello"),(async()=>{try{console.log("USER",E);const r=await j();if(console.log("Token received in errir page:",r),!r)throw new Error("Unauthorized: Failed to get authentication token.");const s=await fetch(`https://api.cheap.chat/chat?conversationId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Origin:window.location.origin}});if(!s.ok)throw new Error("Network response was not ok");console.log("response",s);const S=(await s.json()).messages,n=[];S.forEach(p=>{n.push({sender:"user-message",text:p.query}),n.push({sender:p.model,text:p.response})}),a(n)}catch{}})())},[t]),o.jsxs(o.Fragment,{children:[g&&o.jsx(h,{selectedModel:l,setSelectedModel:d,lastNonSearchSelectedModel:u,setLastNonSearchSelectedModel:m,messages:c,setMessages:a,windowConversationId:t},t),v&&o.jsx("div",{children:"404"})]})},A=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),le={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.js",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:P}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/_error/+Page.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:A}}};export{le as configValuesSerialized};
