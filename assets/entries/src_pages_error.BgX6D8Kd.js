import{r as e,u as x,j as o,i as j}from"../chunks/chunk-7HYfWo-d.js";import{C as E}from"../chunks/chunk-BzPtLJRU.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-DegbtLm5.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */const P=({selectedModel:p,setSelectedModel:d,lastNonSearchSelectedModel:u,setLastNonSearchSelectedModel:c})=>{const[m,h]=e.useState(!0),[f,g]=e.useState(!1),[t,w]=e.useState(null),[y,l]=e.useState([]),{ensureValidToken:S}=x();return e.useEffect(()=>{if(console.log(window.location.pathname),window.location.pathname.startsWith("/c/")){h(!0);const r=window.location.pathname.split("/").filter(Boolean).pop();w(r),console.log("Setting conversationId:",r)}else g(!0)},[]),e.useEffect(()=>{t&&(console.log("hello"),(async()=>{try{const a=await S();if(!a)throw new Error("Unauthorized: Failed to get authentication token.");const i=await fetch(`https://api.cheap.chat/chat?conversationId=${t}`,{method:"GET",headers:{Authorization:`Bearer ${a}`,Origin:window.location.origin}});if(!i.ok)throw new Error("Network response was not ok");console.log("response",i);const v=(await i.json()).messages,s=[];v.forEach(n=>{s.push({sender:"user-message",text:n.query}),s.push({sender:n.model,text:n.response})}),l(s)}catch{}})())},[t]),o.jsxs(o.Fragment,{children:[m&&o.jsx(E,{selectedModel:p,setSelectedModel:d,lastNonSearchSelectedModel:u,setLastNonSearchSelectedModel:c,messages:y,setMessages:l,windowConversationId:t},t),f&&o.jsx("div",{children:"404"})]})},T=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),te={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.js",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:j}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/_error/+Page.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:T}}};export{te as configValuesSerialized};
