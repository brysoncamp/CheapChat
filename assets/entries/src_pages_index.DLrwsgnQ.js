import{r as a,j as e,f as v,i as S}from"../chunks/chunk-DXGjOIz3.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */const w="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2012H18M12%206V18'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",k="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%207V8.2C20%209.88016%2020%2010.7202%2019.673%2011.362C19.3854%2011.9265%2018.9265%2012.3854%2018.362%2012.673C17.7202%2013%2016.8802%2013%2015.2%2013H4M4%2013L8%209M4%2013L8%2017'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",j=a.forwardRef(({onTextChange:o,onSend:n},s)=>(a.useEffect(()=>{const t=s.current,r=()=>{t&&(t.style.height="auto",t.style.height=`${t.scrollHeight}px`,o(t.value.trim()!==""))},i=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),n())};return t.addEventListener("input",r),t.addEventListener("keydown",i),r(),()=>{t.removeEventListener("input",r),t.removeEventListener("keydown",i)}},[o,n,s]),e.jsx("textarea",{ref:s,rows:"1",className:"input-text",placeholder:"Chat with GPT-4o"}))),x=({icon:o,altText:n,onClick:s,extraClass:t=""})=>e.jsx("button",{className:`action-button ${t}`,onClick:s,children:e.jsx("img",{className:"icon",src:o,alt:n})}),y=()=>{const o=a.useRef(null),n=a.useRef(null),[s,t]=a.useState(!1);a.useEffect(()=>{const i=l=>{!l.target.closest("button")&&n.current&&n.current.focus()};return o.current.addEventListener("click",i),()=>o.current.removeEventListener("click",i)},[]);const r=()=>{!s||!n.current||(n.current.value="",n.current.style.height="auto",t(!1),n.current.focus())};return e.jsxs("div",{className:"input-container",ref:o,children:[e.jsx(x,{icon:w,altText:"plus",extraClass:"add-button"}),e.jsx(j,{onTextChange:t,onSend:r,ref:n}),e.jsx(x,{icon:k,altText:"send",extraClass:`send-button ${s?"send-active":""}`,onClick:r})]})},T="wss://ws.cheap.chat";function b(){const[o,n]=a.useState(null),[s,t]=a.useState([]),[r,i]=a.useState("");a.useEffect(()=>{(async()=>{var d,p;try{const f=(p=(d=(await v()).tokens)==null?void 0:d.idToken)==null?void 0:p.toString();if(!f){console.error("No token found, user must re-authenticate.");return}const u=new WebSocket(`${T}?token=${f}`);u.onopen=()=>console.log("WebSocket Connected"),u.onmessage=g=>{t(m=>[...m,g.data])},u.onclose=()=>console.log("WebSocket Disconnected"),n(u)}catch(h){console.error("WebSocket Auth Error:",h)}})()},[]);const l=()=>{o&&r&&(o.send(JSON.stringify({action:"sendMessage",message:r})),i(""))};return e.jsxs("div",{children:[e.jsx("h2",{children:"WebSocket Chat"}),e.jsx("div",{children:s.map((c,d)=>e.jsx("p",{children:c},d))}),e.jsx("input",{value:r,style:{backgroundColor:"red"},onChange:c=>i(c.target.value)}),e.jsx("button",{onClick:l,children:"Send"})]})}const C=()=>e.jsxs("div",{className:"page",children:[e.jsx("div",{className:"body",children:e.jsx(b,{})}),e.jsx(y,{})]}),E=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),N={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.js",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:S}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/index/+Page.jsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:E}}};export{N as configValuesSerialized};
